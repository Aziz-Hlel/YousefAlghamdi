# docker/backup/Dockerfile
FROM alpine:latest

# Install MongoDB tools and bash
RUN apk add --no-cache \
    mongodb-tools \
    bash \
    tzdata \
    && rm -rf /var/cache/apk/*

COPY scripts/backup.sh /backup.sh
COPY scripts/restore.sh /restore.sh

RUN chmod +x /backup.sh /restore.sh

ENTRYPOINT ["/bin/bash"]

CMD ["-c", "while true; do /backup.sh; sleep 86400; done"]